#include "../inc/sai_adapter.h"

hostif_table_t::hostif_table_t() {
	hostif_table_map.clear();
}

hostif_table_t::~hostif_table_t() {
	
}

void hostif_table_t::lookup(ethernet_hdr_t *ether, cpu_hdr_t *cpu) {
	hostif_table_map_t::iterator it = hostif_table_map.find(cpu->trap_id);
	if (it != hostif_table_map.end()) {
		it->second(ether, cpu);
	} else {
		printf("hostif_table lookup missed\n"); // TODO - logger or return value
	}
}

void hostif_table_t::add_entry(uint16_t trap_id, adapter_packet_handler_fn handler_fn) {
	hostif_table_map[trap_id] = handler_fn;
}

void hostif_table_t::remove_entry(uint16_t) {

}